/*
Generated time: June 26, 2023 06:08
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
class PredictiveSearch extends HTMLElement{constructor(){super(),this.input=this.querySelector('input[type="search"]'),this.predictiveSearchResults=this.querySelector("#predictive-search"),this.input.addEventListener("input",debounce(e=>{this.onChange(e)},300).bind(this))}onChange(){var e=this.input.value.trim();e.length?(console.log("searchTerm: ",e),this.getSearchResults(e)):this.close()}getSearchResults(e){fetch(`/search/suggest?q=${e}&resources[type]=product&resources[limit]=5&section_id=header`).then(e=>{if(e.ok)return e.text();throw e=new Error(e.status),this.close(),e}).then(e=>{e=(new DOMParser).parseFromString(e,"text/html").querySelector("#predictive-search").innerHTML;this.predictiveSearchResults.innerHTML=e,this.open()}).catch(e=>{throw this.close(),e})}open(){this.predictiveSearchResults.style.display="block",this.predictiveSearchResults.style.paddingRight="4rem"}close(){this.predictiveSearchResults.style.display="none"}}customElements.define("predictive-search",PredictiveSearch);